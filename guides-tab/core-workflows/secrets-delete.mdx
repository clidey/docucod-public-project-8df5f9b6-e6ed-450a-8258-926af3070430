---
title: "Deleting Secrets from the Keyring"
description: "Understand how to securely remove stored secrets from the system keyring using go-keyring. This step-by-step guide explains deletion workflows, error handling, and common pitfalls to help maintain a clean and up-to-date keyring for your applications."
---

# Deleting Secrets from the Keyring

Securely managing your application's secrets includes knowing how to properly remove stored credentials when they are no longer needed. This guide walks you through the process of deleting secrets from the system keyring using the go-keyring library, detailing when and how to delete individual secrets or all secrets associated with a service, handling possible errors, and avoiding common pitfalls.

---

## 1. Why Delete Secrets?

Over time, stored secrets such as passwords, tokens, or API keys may become outdated, revoked, or simply obsolete. Removing these secrets helps maintain a clean and secure keyring, minimizing risk from leaked or forgotten credentials. Proper deletion ensures your application doesn't unknowingly use stale or invalid secrets.

---

## 2. Prerequisites

Before proceeding with secret deletion, ensure the following:

- **go-keyring is installed and set up** in your Go project. Refer to [Quickstart: Installing and Using go-keyring](/guides-tab/core-workflows/setup-quickstart) for installation and initial configuration.
- **You know the `service` and `user` identifiers** for the secrets you intend to delete. These identifiers were used during secret storage.
- **Your runtime environment supports the platform keyring integration** (macOS, Linux/BSD, or Windows). For details, see [Platform Integration & Dependencies](/overview/architecture-usecases-integration/platform-integration).

---

## 3. Expected Outcome

By following this guide, you will:

- Be able to delete a single secret identified by service and user.
- Know how to delete all secrets linked to a specific service.
- Understand how to handle errors like missing secrets.
- Maintain a tidy keyring, reducing security risks.

---

## 4. Time Estimate

Performing these deletion actions typically takes a few minutes, depending on your familiarity with go-keyring and your development environment.

---

## 5. Deleting Secrets: Step-by-Step

### A. Delete an Individual Secret

Use this when you want to remove a specific secret stored for a user under a given service.

```go
import "github.com/zalando/go-keyring"

service := "my-app"
user := "user@example.com"

// Delete secret from the keyring
err := keyring.Delete(service, user)
if err != nil {
    if err == keyring.ErrNotFound {
        // Handle gracefully: secret does not exist
        fmt.Println("Secret not found, nothing to delete")
    } else {
        // Handle unexpected errors
        log.Fatalf("Failed to delete secret: %v", err)
    }
} else {
    fmt.Println("Secret deleted successfully")
}
```

#### What happens:

- The `Delete` function attempts to locate the secret matching `service` and `user`.
- If found, it securely removes the secret.
- If not found, it returns `ErrNotFound`, which you should handle to avoid false error signals.

---

### B. Delete All Secrets for a Service

When you want to clear all secrets stored under a particular service (e.g., all users' credentials related to `my-app`), use `DeleteAll`.

```go
service := "my-app"

// Delete all secrets for the service
err := keyring.DeleteAll(service)
if err != nil {
    if err == keyring.ErrNotFound {
        fmt.Println("No secrets found for the service, nothing deleted")
    } else {
        log.Fatalf("Failed to delete all secrets: %v", err)
    }
} else {
    fmt.Println("All secrets for service deleted successfully")
}
```

#### Important:

- An empty service string (`""`) passed to `DeleteAll` will return an error and **will NOT delete any secrets**.
- This safeguard helps prevent accidental mass deletion.

---

### Under the Hood (Platform Behavior)

- On **macOS**, deletion uses the `security` command-line tool to remove keychain items.
- On **Linux/BSD**, it interacts with the Secret Service DBus interface to find and delete items.
- On **Windows**, deletion interacts with the Windows Credential Manager API.

These platform integrations are abstracted away by go-keyring so you can write consistent code across OSes.

---

## 6. Handling Common Errors

### ErrNotFound

- Indicates the secret or service was not found in the keyring.
- Treat this as a normal outcome â€” it means there's nothing to delete.
- Avoid failing your application workflow on this error.

### ErrUnsupportedPlatform

- Returned if your environment/platform is unsupported.
- Check platform prerequisites and ensure you are running one of the supported OSes (macOS, Linux/BSD, Windows).

### Other Errors

- Could happen due to permission issues, DBus troubles (Linux), or internal keyring errors.
- Logging and retry logic may be appropriate.

---

## 7. Best Practices & Tips

- **Always check for `ErrNotFound`** after a delete call and handle it gracefully.
- When deleting multiple secrets, use `DeleteAll(service)` instead of deleting individually for efficiency.
- **Never pass an empty string** as the service name to `DeleteAll` to avoid accidental wipe.
- Use logging to audit secret deletion requests for security maintenance.
- Before deleting, consider notifying users or performing backups if secret data is critical.

---

## 8. Troubleshooting

### Secret Not Deleting

- Verify that the `service` and `user` identifiers exactly match those used when the secret was stored.
- On Linux/BSD, ensure the Secret Service daemon is running and the `login` collection exists.
- On macOS, verify the `security` binary is accessible (`/usr/bin/security`).
- On Windows, confirm the user context has access to Credential Manager.

### Unexpected Permissions Errors

- Run your application with appropriate user privileges.
- Check OS-level keyring permissions or policies.

### Testing Deletion Locally

- Use the go-keyring **mock provider** for isolated testing without relying on system keyrings.
- Refer to the [Mock Provider for Testing](/api-reference/platform-and-testing-apis/mock-provider) documentation.

---

## 9. Example Workflow: Delete a User's Secret

<Steps>
<Step title="Identify the Secret">
Confirm the exact `service` and `user` values as used to store the secret.
</Step>
<Step title="Call Delete">
Invoke `keyring.Delete(service, user)` in your Go code.
</Step>
<Step title="Handle Errors">
Check for `ErrNotFound` to confirm if the secret was absent.
</Step>
<Step title="Verify Deletion">
Optionally, attempt a `Get` call to verify the secret has been removed.
</Step>
</Steps>

---

## 10. Next Steps

- After mastering deletion, explore the full lifecycle by revisiting how to [Set and Get Secrets](/guides-tab/core-workflows/secrets-store-get).
- Familiarize yourself with platform-unique behaviors in [Platform Integration & Dependencies](/overview/architecture-usecases-integration/platform-integration).
- For robust error handling, refer to the [Error Handling and Status Codes](/api-reference/platform-and-testing-apis/error-handling) documentation.
- Use the [Testing and Mocking](/guides-tab/scenarios-integration/testing-mocking) guide to safely test deletion operations.

---

## 11. Additional Resources

- API Reference for `Delete` and `DeleteAll`: [Delete Secret API](https://github.com/zalando/go-keyring/blob/main/api-reference/core-keyring-apis/delete-secret.mdx)
- Common setup troubleshooting: [Troubleshooting & Common Setup Issues](/getting-started/usage-validation/troubleshooting)
- Mock Provider: [Mock Provider API](https://github.com/zalando/go-keyring/blob/main/api-reference/platform-and-testing-apis/mock-provider.mdx)

---

## 12. Summary

Securely deleting secrets from your system keyring is critical for maintaining application security hygiene. This guide has provided you with clear, actionable methods to delete individual secrets or all secrets under a service using go-keyring. Equipped with error handling best practices, platform-specific notes, and troubleshooting tips, you can confidently manage and clean your keyring.

<Tip>
Remember: Always safely handle `ErrNotFound` during deletion attempts to avoid unexpected application failures.
</Tip>

---